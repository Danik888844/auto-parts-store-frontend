<div class="popup-header">
  <h2 class="popup-title">{{ 'EditSupplier' | translate }}</h2>
  <div class="popup-actions-top">
    <button
      mat-flat-button
      class="popup-submit-btn"
      (click)="submit()"
      [disabled]="form.invalid || submitting"
    >
      {{ (submitting ? 'Saving' : 'Save') | translate }}{{ submitting ? '...' : '' }}
    </button>
    <button mat-icon-button class="popup-close-btn" (click)="onCancel()" [attr.aria-label]="'Close' | translate">
      <mat-icon>close</mat-icon>
    </button>
  </div>
</div>
<div class="popup-content">
  <form [formGroup]="form" class="form-container">
    <div class="form-group">
      <label class="label" for="name">{{ "Name" | translate }}</label>
      <input
        id="name"
        formControlName="name"
        class="form-control popup-input"
        placeholder="{{ 'EnterName' | translate }}"
      />
      @if (form.get('name')?.hasError('required') && form.get('name')?.touched) {
        <span class="popup-error-text">{{ 'Required' | translate }}</span>
      }
    </div>
    <div class="form-group">
      <label class="label" for="phone">{{ "Phone" | translate }}</label>
      <input
        id="phone"
        formControlName="phone"
        class="form-control popup-input"
        placeholder="{{ 'EnterPhone' | translate }}"
      />
    </div>
    <div class="form-group">
      <label class="label" for="email">{{ "Email" | translate }}</label>
      <input
        id="email"
        type="email"
        formControlName="email"
        class="form-control popup-input"
        placeholder="{{ 'EnterEmail' | translate }}"
      />
      @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
        <span class="popup-error-text">{{ 'InvalidEmail' | translate }}</span>
      }
    </div>
    <div class="form-group">
      <label class="label" for="address">{{ "Address" | translate }}</label>
      <input
        id="address"
        formControlName="address"
        class="form-control popup-input"
        placeholder="{{ 'EnterAddress' | translate }}"
      />
    </div>
  </form>
  @if (errorMessage) {
    <p class="popup-error">{{ errorMessage }}</p>
  }
</div>
