<div class="ml-10 mr-10">
    @if (loading) {
        <div class="dashboard-loading">{{ "Loading" | translate }}...</div>
    } @else if (loadError) {
        <div class="dashboard-error">{{ "LoadError" | translate }}</div>
    } @else {
    <div class="d-flex gap-2 mb-2 flex-row">
        <div 
        class="stat-card"
        [style.--wave-url]="'url(' + blueWaveUrl + ')'">
            <div class="card-header">{{ "SalesToday" | translate }}</div>
            <div class="card-body">
                <span class="card-count">{{ data.salesTodayCount }}</span> 
                <span class="card-label">{{ "orders" | translate }}</span>
            </div>
            @if (data.salesTodayTotal > 0) {
            <div class="card-sub">{{ data.salesTodayTotal | number:'1.0-0' }} ₽</div>
        }
        </div>

        <div 
        class="stat-card"
        [style.--wave-url]="'url(' + cyanWaveUrl + ')'">
            <div class="card-header">{{ "IncomePerWeek" | translate }}</div>
            <div class="card-body">
                <span class="card-count">{{ data.incomeForWeek | number:'1.0-0' }} ₽</span>
            </div>
        </div>

        <div 
        class="stat-card"
        [style.--wave-url]="'url(' + aquaWaveUrl + ')'">
            <div class="card-header">{{ "RemainingStock" | translate }}</div>
            <div class="card-body">
                <span class="card-count">{{ data.stockPositionsCount }}</span> 
                <span class="card-label">{{ "products" | translate }}</span>
            </div>
            @if (data.stockTotalQuantity > 0) {
            <div class="card-sub">{{ "StockTotalQuantity" | translate }}: {{ data.stockTotalQuantity | number }}</div>
        }
        </div>

        <div 
        class="stat-card"
        [style.--wave-url]="'url(' + peachWaveUrl + ')'">
            <div class="card-header">{{ "Clients" | translate }}</div>
            <div class="card-body">
                <span class="card-count">{{ data.clientsCount }}</span> 
                <span class="card-label">{{ "contacts" | translate }}</span>
            </div>
        </div>
    </div>

    <div class="chart-form">
        <apx-chart
            [series]="series"
            [chart]="chart"
            [dataLabels]="dataLabels"
            [markers]="markers"
            [title]="title"
            [fill]="fill"
            [yaxis]="yaxis"
            [xaxis]="xaxis"
            [tooltip]="tooltip"
            [autoUpdateSeries]="true"
        ></apx-chart>
    </div>

    <div class="d-flex gap-2 flex-row">
        <a class="btn-card" routerLink="/products">
            <div class="btn-card-icon" [style.--btn-icon-bg]="'#1f6feb'">
                <mat-icon>shopping_cart</mat-icon>
            </div>
            <div class="btn-card-title">
                {{ "ProductsCatalog" | translate }}
            </div>
        </a>

        <a class="btn-card" routerLink="/warehouse">
            <div class="btn-card-icon" [style.--btn-icon-bg]="'#0d9488'">
                <mat-icon>warehouse</mat-icon>
            </div>
            <div class="btn-card-title">
                {{ "Warehouse" | translate }}
            </div>
        </a>

        <a class="btn-card" routerLink="/sales/new">
            <div class="btn-card-icon" [style.--btn-icon-bg]="'#ea580c'">
                <mat-icon>add_shopping_cart</mat-icon>
            </div>
            <div class="btn-card-title">
                {{ "NewOrder" | translate }}
            </div>
        </a>

        <a class="btn-card" routerLink="/reports">
            <div class="btn-card-icon" [style.--btn-icon-bg]="'#7c3aed'">
                <mat-icon>assessment</mat-icon>
            </div>
            <div class="btn-card-title">
                {{ "Reports" | translate }}
            </div>
        </a>
    </div>
    }
</div>
